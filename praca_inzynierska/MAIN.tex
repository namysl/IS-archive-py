\documentclass[a4paper, 12pt, fleqn, reqno, oneside]{report}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{polski}
\usepackage[polish]{babel}
\usepackage{amsfonts}
\usepackage[hmargin=3.5cm, vmargin=3cm, hcentering]{geometry}
\usepackage{setspace} 
\usepackage{enumerate}
\usepackage{varwidth}
\usepackage{ulem}
\usepackage{xcolor}
\usepackage{url}
\usepackage{graphicx}
\usepackage{listings}
\usepackage[newfloat]{minted}
\usepackage{caption}
\usepackage{float}

\linespread{1.3}
\setlength{\parindent}{2em}

\usepackage[font=small,skip=1pt]{caption}
\newenvironment{code}{\captionsetup{type=listing}}{}
\SetupFloatingEnvironment{listing}{name=Załącznik}
\usepackage{sectsty, lmodern}
\setminted{baselinestretch=1.1}

\chapternumberfont{\fontsize{18pt}{0pt}\selectfont}
\chaptertitlefont{\fontsize{20pt}{0pt}\selectfont}
\sectionfont{\fontsize{14pt}{0pt}\selectfont}
%\linespread{1.25}


\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=6pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

\lstdefinelanguage{Dockerfile}
{
    morekeywords={
        FROM, RUN, CMD, LABEL, MAINTAINER, EXPOSE, ENV, ADD, COPY, ENTRYPOINT, VOLUME, USER, WORKDIR, ARG, ONBUILD, STOPSIGNAL, HEALTHCHECK, SHELL},
    morecomment=[l]{\#},
    morestring=[b]"
}

% https://www.overleaf.com/learn/latex/Code_Highlighting_with_minted
%RUBY
\definecolor{greyish}{rgb}{0.95,0.95,0.95}
\newmintedfile[scriptruby]{ruby}{
bgcolor=greyish,
fontfamily=tt,
linenos=true,
numberblanklines=true,
numbersep=2pt,
gobble=0,
frame=leftline,
framerule=0.2pt,
framesep=1mm,
funcnamehighlighting=true,
tabsize=4,
obeytabs=false,
mathescape=false
samepage=false,
showspaces=false,
showtabs =false,
texcl=false,
fontsize=\footnotesize,
breaklines=true
}

%BASH
\newmintedfile[scriptbash]{bash}{
bgcolor=greyish,
fontfamily=tt,
linenos=true,
numberblanklines=true,
numbersep=2pt,
gobble=0,
frame=leftline,
framerule=0.2pt,
framesep=1mm,
funcnamehighlighting=true,
tabsize=4,
obeytabs=false,
mathescape=false
samepage=false,
showspaces=false,
showtabs =false,
texcl=false,
fontsize=\footnotesize,
breaklines=true,
breakanywhere=true
}

\newmintedfile[scriptyaml]{yaml}{
bgcolor=greyish,
fontfamily=tt,
linenos=true,
numberblanklines=true,
numbersep=2pt,
gobble=0,
frame=leftline,
framerule=0.2pt,
framesep=1mm,
funcnamehighlighting=true,
tabsize=4,
obeytabs=false,
mathescape=false
samepage=false,
showspaces=false,
showtabs =false,
texcl=false,
fontsize=\footnotesize,
breaklines=true
}

\newmintedfile[scriptjs]{js}{
bgcolor=greyish,
fontfamily=tt,
linenos=true,
numberblanklines=true,
numbersep=2pt,
gobble=0,
frame=leftline,
framerule=0.2pt,
framesep=1mm,
funcnamehighlighting=true,
tabsize=4,
obeytabs=false,
mathescape=false
samepage=false,
showspaces=false,
showtabs =false,
texcl=false,
fontsize=\footnotesize,
breaklines=true
}

\newmintedfile[scriptjson]{js}{
bgcolor=greyish,
fontfamily=tt,
linenos=true,
numberblanklines=true,
numbersep=2pt,
gobble=0,
frame=leftline,
framerule=0.2pt,
framesep=1mm,
funcnamehighlighting=true,
tabsize=4,
obeytabs=false,
mathescape=false
samepage=false,
showspaces=false,
showtabs =false,
texcl=false,
fontsize=\footnotesize,
breaklines=true
}

\begin{document}

\include{rozdzial0-preambula}

\setcounter{page}{1}
\tableofcontents 

\include{rozdzial0-wstep}

\include{rozdzial1-teoria}

\include{rozdzial2-praktyka}

\include{rozdzial3-podsumowanie}

\include{rozdzial4-zalaczniki}

\addcontentsline{toc}{chapter}{Bibliografia}
\bibliography{rozdzialX-bibliografia}

%\bibliographystyle{apalike}
\bibliographystyle{unsrt}

\end{document}
